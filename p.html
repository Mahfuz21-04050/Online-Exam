<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body);"></script>
</head>

<body>
  <p>Inline math: \( a^2 + b^2 = c^2 \)</p>
  <p>Block math:
    \[
    \int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2}
    \]
  </p>

  <div class="choice-input">
    <input type="text" id="choice1" class="form-input" placeholder="Choice A (e.g., \frac{1}{2})"
      oninput="renderChoice(1)">
    <span id="choicePreview1" class="choice-preview"></span>
    <div class="correct-marker inactive" onclick="setCorrectAnswer(0)">A</div>
  </div>
  <script> function renderChoice(num) {
      const input = document.getElementById(`choice${num}`).value;
      const preview = document.getElementById(`choicePreview${num}`);

      if (input.trim()) {
        try {
          katex.render(input, preview, { throwOnError: false });
        } catch (err) {
          preview.innerHTML = "‚ùå Invalid LaTeX";
        }
      } else {
        preview.innerHTML = "";
      }
    }
  </script>
</body>

</html>